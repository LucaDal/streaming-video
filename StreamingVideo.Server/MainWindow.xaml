<Window x:Class="StreamingVideo.Server.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:StreamingVideo.Server"
        xmlns:com="clr-namespace:StreamingVideo.Common;assembly=StreamingVideo.Common"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        mc:Ignorable="d"
        Title="Video Streaming Server"
        Height="450" Width="800">

    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="WhiteSmoke"/>
            <Setter Property="FontSize" Value="16"/>
        </Style>
    </Window.Resources>
    
    <Grid Background="#2d2d30">
        <StackPanel Margin="10">

            <ui:Card Margin="0,10,0,10">
                <StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="File to Load:" 
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Grid.Column="0"/>
                <TextBox Text="{Binding Source={x:Static com:Properties.Instance}, Path=FilePath}"
                         HorizontalAlignment="Stretch"
                         Grid.Column="1"
                         Margin="10"/>
                <Button Content="Search File" Click="Button_Click" Margin="5" Grid.Column="2"/>
            </Grid>
            <Button Content="Start Server" Click="StartServer_Click" Width="150" HorizontalAlignment="Center"/>
            <TextBlock x:Name="StatusText" Text="Server fermo..." FontWeight="Bold"/>
                    
                </StackPanel>
            </ui:Card>
            
            
            <!--#region Dynu Update-->
            <ui:Card Padding="5">
                <StackPanel>
                    <TextBlock Text="Dynu DNS info" HorizontalAlignment="Center"/>
                    <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Label Content="Username: " Grid.Column="0"/>
                    <TextBox Text="{Binding Source={x:Static com:Properties.Instance}, Path=DynuUsername}"
                             HorizontalAlignment="Stretch"
                             Grid.Column="1" 
                             Margin="10,0,10,0"/>
                    <Label Content="password: " Grid.Column="2"/>
                    <TextBox Text="{Binding Source={x:Static com:Properties.Instance}, Path=DynuPassword}"
                             Grid.Column="3" 
                             Margin="10,0,10,0" 
                             HorizontalAlignment="Stretch"/>
                    <Label Content="Host: " Grid.Column="4"/>
                    <TextBox Text="{Binding Source={x:Static com:Properties.Instance}, Path=DynuHostname}"
                             Grid.Column="5" 
                             Margin="10,0,10,0"
                             HorizontalAlignment="Stretch"/>
                </Grid>
                <Button Content="Update DynuDns" HorizontalAlignment="Center" Click="Button_UpdateDynu" Width="150" Margin="0,0,0,0"/>
                <TextBox x:Name="tb_dynu" 
                         HorizontalAlignment="Stretch"
                         IsReadOnly="True"
                         Text="Dynu response..."
                         Foreground="Gray" Margin="5"/>
                </StackPanel>
            </ui:Card>
            <!--#endregion Dynu Update-->

            <ui:CardAction 
                Margin="10"
                Content="Save Configuration"
                Click="Button_Save"
                Icon="{ui:SymbolIcon Symbol=Save24}"/>
        </StackPanel>
    </Grid>
</Window>
